<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodePen - ScrollMagic Test #3 - Image transition</title>
  <style>
@import url(https://fonts.googleapis.com/css?family=Montserrat:700);

@import url('https://fonts.googleapis.com/css?family=Pacifico');

html, body {
  margin:0;
  padding:0;
  /* overflow:hidden; */
}

body {  
  color:white;
  background:black;  
  font-family: Montserrat, sans-serif;
  line-height: 1.9;
}
header {
  position:fixed;
  top:0;
  left:0;
  z-index:99;  
  width:220px;
  height:170px;
  color:white;
  background:black;
}
section {
  position:relative;
  width:100%;
  height:100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background:transparent;
}

h1 {
  font-size: 6vw;
  font-weight:700;
  margin:0;
  text-transform:uppercase;
}

.background {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100vh;  
  opacity:0;
  background-color:#660000;
  background-blend-mode: darken;
  background-position:bottom center;
  background-repeat:no-repeat;
  background-size:cover;
  transition:opacity 1s ease;
  transition-delay:0.15s;
}

.b1 {
  background-image:url("arkham.png");  
  z-index:-3;
}
.b2 {
  background-image:url("slap.png");  
  z-index:-2;
}

.show {
  opacity:1;
}
  </style>

</head>
<body>
<!-- partial:index.partial.html -->
<section id="s1" class="section">
  <h1>Arkham Asylum Presents</h1>
</section>
<section id="s2" class="section">
  <h1>Degen Mantle Health Checkup</h1>
</section>
<div class="background b1"></div>
<div class="background b2"></div>

<!-- partial -->
  <script src='//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js'></script>
  <script>
// Data array for dynamically rendering sections

var sections = [
  {
    title: "Section 1",
    background: ""
  },
  {
    title: "Section 2",
    background: ""
  }
];

// Get viewport height (cross-browser)
var vH = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);

// Initialise ScrollMagic.JS
var controller = new ScrollMagic.Controller();

var scenes = [];
if (sections && sections.length > 0) {
  var i;
  for (i=0;i < sections.length;i++) {
    // Create a new scene for each section in data array and add it to scenes array
    var scene = new ScrollMagic.Scene({
        triggerElement: "#s" + (i+1),
        triggerHook: "onCenter",
      }).setClassToggle(".b"+(i+1), "show");
    scenes.push(scene);
  }
}

// Add all scenes to controller
controller.addScene(scenes);
  </script>

</body>
</html>
